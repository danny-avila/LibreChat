# ConfigMap: Stores configuration data as key-value pairs
# Think of it like environment variables that multiple pods can share
apiVersion: v1
kind: ConfigMap
metadata:
  name: librechat-config
  namespace: librechat
data:
  # Server Configuration
  HOST: "0.0.0.0"
  PORT: "3080"
  NODE_ENV: "production"
  
  # MongoDB connection
  MONGO_URI: "mongodb://$(MONGO_ROOT_USER):$(MONGO_ROOT_PASS)@mongodb:27017/LibreChat?authSource=LibreChat"
  
  # PostgreSQL/VectorDB
  DB_HOST: "vectordb"
  VECTOR_DB_TYPE: "pgvector"
  DEBUG_PGVECTOR_QUERIES: "true"
  
  # Meilisearch
  SEARCH: "true"
  MEILI_HOST: "http://meilisearch:7700"
  MEILI_NO_ANALYTICS: "true"
  
  # RAG API
  RAG_PORT: "8000"
  RAG_API_URL: "http://rag-api:8000"
  
  # LiteLLM
  LITELLM_MODELS_URL: "http://litellm:8000/v1/models"
  DATABASE_URL: "postgresql://myuser:mypassword@vectordb:5432/mydatabase"
  STORE_MODEL_IN_DB: "True"
  
  # Logging
  DEBUG_LOGGING: "true"
  DEBUG_CONSOLE: "false"
  CONSOLE_JSON: "false"
  DEBUG_PLUGINS: "true"
  DEBUG_OPENAI: "false"
  
  # Security
  NO_INDEX: "true"
  TRUST_PROXY: "true"
  
  # Domain
  DOMAIN_CLIENT: "https://accessllm.ca"
  DOMAIN_SERVER: "https://accessllm.ca"
  
  # # Email
  # EMAIL_SERVICE: "Gmail"
  # EMAIL_PORT: "25"
  # EMAIL_USERNAME: "accessllm.ets@gmail.com"
  # EMAIL_FROM_NAME: "AccessLLm"
  # EMAIL_FROM: "accessllm.ets@gmail.com"
  
  # User System
  ALLOW_EMAIL_LOGIN: "true"
  ALLOW_REGISTRATION: "true"
  ALLOW_SOCIAL_LOGIN: "false"
  ALLOW_SOCIAL_REGISTRATION: "false"
  #ALLOW_PASSWORD_RESET: "true"
  ALLOW_ACCOUNT_DELETION: "true"
  ALLOW_UNVERIFIED_EMAIL_LOGIN: "true"
  
  # Session
  SESSION_EXPIRY: "900000"
  REFRESH_TOKEN_EXPIRY: "2592000000"
  
  # Moderation
  OPENAI_MODERATION: "false"
  BAN_VIOLATIONS: "false"
  
  # UI
  APP_TITLE: "Acc√®sLLM"
  CUSTOM_FOOTER: "[Every AI for Everyone.](http://logti-a3446-pfe-dev.ens.ad.etsmtl.ca/)"
  
  # Google OAuth
  GOOGLE_CLIENT_ID: "1096967953373-em0qeihclii109deuh2s9n4jotko0s9b.apps.googleusercontent.com"
  GOOGLE_CALLBACK_URL: "/oauth/google/callback"
  
  # Moderation Limits
  BAN_DURATION: "7200000"
  BAN_INTERVAL: "20"
  LOGIN_VIOLATION_SCORE: "1"
  REGISTRATION_VIOLATION_SCORE: "1"
  CONCURRENT_VIOLATION_SCORE: "1"
  MESSAGE_VIOLATION_SCORE: "1"
  NON_BROWSER_VIOLATION_SCORE: "20"
  LOGIN_MAX: "7"
  LOGIN_WINDOW: "5"
  REGISTER_MAX: "5"
  REGISTER_WINDOW: "60"
  LIMIT_CONCURRENT_MESSAGES: "true"
  CONCURRENT_MESSAGE_MAX: "2"
  LIMIT_MESSAGE_IP: "true"
  MESSAGE_IP_MAX: "40"
  MESSAGE_IP_WINDOW: "1"
  LIMIT_MESSAGE_USER: "false"
  MESSAGE_USER_MAX: "40"
  MESSAGE_USER_WINDOW: "1"
  
  # Empty/Optional API Keys (defined but empty)
  OPENAI_API_KEY: ""
  GOOGLE_KEY: ""
  ANTHROPIC_API_KEY: ""
  ASSISTANTS_API_KEY: ""
  OPENAI_MODERATION_API_KEY: ""
  GOOGLE_SEARCH_API_KEY: ""
  GOOGLE_CSE_ID: ""
  YOUTUBE_API_KEY: ""
  SERPAPI_API_KEY: ""
  TAVILY_API_KEY: ""
  TRAVERSAAL_API_KEY: ""
  WOLFRAM_APP_ID: ""
  ZAPIER_NLA_API_KEY: ""
  STT_API_KEY: ""
  TTS_API_KEY: ""
  OPENWEATHER_API_KEY: ""
  
  # Flux API
  FLUX_API_BASE_URL: "https://api.us1.bfl.ai"
  
  # Stable Diffusion
  SD_WEBUI_URL: "http://host.docker.internal:7860"
  
  # OAuth Callbacks
  DISCORD_CALLBACK_URL: "/oauth/discord/callback"
  FACEBOOK_CALLBACK_URL: "/oauth/facebook/callback"
  GITHUB_CALLBACK_URL: "/oauth/github/callback"
  APPLE_CALLBACK_URL: "/oauth/apple/callback"
  OPENID_CALLBACK_URL: "/oauth/openid/callback"
  SAML_CALLBACK_URL: "/oauth/saml/callback"
  
  # OpenID
  OPENID_SCOPE: "openid profile email"
  OPENID_AUTO_REDIRECT: "false"
  OPENID_USE_PKCE: "false"
  
  # Entra ID
  USE_ENTRA_ID_FOR_PEOPLE_SEARCH: "false"
  ENTRA_ID_INCLUDE_OWNERS_AS_MEMBERS: "false"
  OPENID_GRAPH_SCOPES: "User.Read,People.Read,GroupMember.Read.All"
  
  # Shared Links
  ALLOW_SHARED_LINKS: "true"
  ALLOW_SHARED_LINKS_PUBLIC: "true"
  
  # Azure Blob Storage
  AZURE_STORAGE_PUBLIC_ACCESS: "false"
  AZURE_CONTAINER_NAME: "files"
  
  # Check interval for models watcher
  CHECK_EVERY: "10"
  TARGET_CONTAINER: "LibreChat-API"
