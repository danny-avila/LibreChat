# Monday Tool - Отчет об исправлениях

## Дата: 30.05.2025

### Основные изменения в MondayTool.js:

1. **getBoards** - Исправлен параметр `state`:
   - Было: `state: null`
   - Стало: `state: 'active'` (с правильным значением по умолчанию)

2. **createGroup** - Убран parseInt для boardId:
   - Было: `boardId: parseInt(boardId)`
   - Стало: `boardId` (API принимает строковые ID)

3. **updateColumn** - Убран parseInt для boardId и itemId:
   - Было: `boardId: parseInt(boardId), itemId: parseInt(itemId)`
   - Стало: `boardId, itemId` (API принимает строковые ID)

4. **addComment** - Убран parseInt для itemId:
   - Было: `itemId: parseInt(itemId)`
   - Стало: `itemId` (API принимает строковые ID)

5. **searchItems** - Убран parseInt для boardId:
   - Было: `boardId: parseInt(boardId)`
   - Стало: `boardId` (API принимает строковые ID)

6. **getWorkspaces** - Добавлена недостающая функция:
   - Новая функция для получения базовой информации о workspaces

7. **createUpdateReply** - Исправлен параметр:
   - Было: использовался updateId
   - Стало: использовался parentId согласно документации

8. **duplicateBoard** - Сделан boardName опциональным:
   - Было: обязательный параметр boardName
   - Стало: опциональный параметр согласно документации

9. **updateGroup** - Полностью переписана функция:
   - Использованы отдельные мутации для обновления title и color

10. **createGroupAdvanced** - Упрощены параметры:
    - Убраны сложные параметры позиционирования

11. **inviteUser** - Исправлен параметр:
    - Было: `kind`
    - Стало: `user_role` с правильным маппингом значений

12. **updateWorkspace** - Переписана логика:
    - Использованы отдельные мутации для обновления разных полей

### Изменения в файлах утилит:

1. **mondayUpdates.js**:
   - Исправлен параметр в CREATE_UPDATE_REPLY с updateId на parentId

2. **mondayTeams.js**:
   - Добавлен недостающий запрос GET_USERS

3. **mondayUsers.js**:
   - Исправлена мутация INVITE_USER для использования user_role вместо kind

### Общие принципы исправлений:

1. **ID параметры**: Все ID в monday.com API должны передаваться как строки, не требуется конвертация parseInt
2. **Параметры по умолчанию**: Использованы правильные значения по умолчанию согласно документации
3. **Именование параметров**: Исправлены названия параметров для соответствия официальной документации
4. **Типы данных**: Все параметры приведены к правильным типам согласно GraphQL схеме

### Рекомендации:

1. Обновить тесты для соответствия новым изменениям
2. Провести полное тестирование всех функций
3. Обновить документацию для разработчиков
4. Проверить обработку ошибок для новых параметров 