version: 1.2.8

# ==============================================================================
# CACHE & STORAGE
# ==============================================================================
cache: true
fileStrategy: "local"

# ==============================================================================
# INTERFACE & PRIVACY
# ==============================================================================
interface:
  endpointsMenu: true
  modelSelect: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: true
  bookmarks: true
  multiConvo: true
  agents: true
  fileSearch: true
  fileCitations: true
  
  peoplePicker:
    users: true
    groups: true
    roles: true

  privacyPolicy:
    externalUrl: 'https://librechat.ai/privacy-policy'
    openNewTab: true
  
  termsOfService:
    externalUrl: 'https://librechat.ai/tos'
    openNewTab: true
    modalAcceptance: true
    modalTitle: 'Terms of Service'
    modalContent: |
      Welcome to LibreChat. By using this service, you agree to our Terms of Service.

  customWelcome: 'Welcome to LibreChat! Select a model to begin.'

  # ENABLE MCP UI for remote servers
  mcpServers:
    use: true
    create: true
    share: true
    placeholder: 'MCP Servers'

# ==============================================================================
# REGISTRATION
# ==============================================================================
registration:
  socialLogins: ["discord", "facebook", "github", "google", "openid", "apple", "saml"]

# ==============================================================================
# ENDPOINTS
# ==============================================================================
endpoints:
  # Configure Agents to allow OpenRouter
  agents:
    disableBuilder: false
    allowedProviders:
      - "openAI"
      - "anthropic"
      - "google"
      - "OpenRouter"

  # ONLY OpenRouter custom endpoint
  custom:
    - name: "OpenRouter"
      apiKey: "${OPENROUTER_KEY}"
      baseURL: "https://openrouter.ai/api/v1"
      models:
        default:
          - "anthropic/claude-3.5-sonnet"
          - "openai/gpt-4o"
          - "meta-llama/llama-3.1-8b-instruct:free"
        fetch: true
      titleConvo: true
      titleModel: "anthropic/claude-3.5-sonnet"
      summarize: false
      summaryModel: "anthropic/claude-3.5-sonnet"
      dropParams: ["stop"]
      modelDisplayLabel: "OpenRouter"

# ==============================================================================
# MCP SERVERS
# ==============================================================================
mcpServers:
  annas-archive:
    type: streamable-http
    url: https://server.smithery.ai/chris/annas-mcp
    timeout: 60000
    initTimeout: 30000
    chatMenu: true
    startup: true
    serverInstructions: Use this to search for and download books from Anna's Archive

# ==============================================================================
# MCP SETTINGS
# ==============================================================================
mcpSettings:
  oauthCallbackUrl: https://librechat-production-df2d.up.railway.app/api/mcp/oauth/callback
  allowedDomains:
    - "*"

# ==============================================================================
# FILE CONFIG
# ==============================================================================
fileConfig:
  serverFileSizeLimit: 100
  avatarSizeLimit: 2
  endpoints:
    default:
      totalSizeLimit: 20
    openAI:
      disabled: true

# ==============================================================================
# MEMORY
# ==============================================================================
memory:
  disabled: false
  validKeys: ["preferences", "work_info", "personal_info", "skills", "interests", "context"]
  personalize: true
