# Dockerfile - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Dockerfile –≤ –ø—Ä–æ–µ–∫—Ç–µ

–í –ø–∞–ø–∫–µ `AI-experts-OS` –µ—Å—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö Dockerfile:

### 1. `Dockerfile` (–û—Å–Ω–æ–≤–Ω–æ–π)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–ª—è —Å–±–æ—Ä–∫–∏ –Ω–∞ Zeabur –∏ –ª–æ–∫–∞–ª—å–Ω–æ
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å rollup –¥–ª—è Alpine Linux
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è production
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ `zeabur.json`

### 2. `Dockerfile.multi` (Multi-stage)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å multi-stage —Å–±–æ—Ä–∫–æ–π
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞
  - –†–∞–∑–¥–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –õ—É—á—à–µ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–µ–≤

## üöÄ –ö–∞–∫–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

### –î–ª—è Zeabur (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
```json
// zeabur.json
{
  "build": {
    "type": "docker",
    "dockerfile": "Dockerfile"
  }
}
```

### –î–ª—è multi-stage —Å–±–æ—Ä–∫–∏:
```json
// zeabur.json
{
  "build": {
    "type": "docker",
    "dockerfile": "Dockerfile.multi"
  }
}
```

## üîß –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –û—Å–Ω–æ–≤–Ω–æ–π Dockerfile
docker build -f Dockerfile -t librechat:latest .

# Multi-stage Dockerfile
docker build -f Dockerfile.multi -t librechat:multi .

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç
./test-build.sh
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dockerfile –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –ø–∞–ø–∫–∏ - –æ–Ω–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è Zeabur
- –û–±–∞ Dockerfile –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è rollup –Ω–∞ Alpine Linux
- –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å–æ —Å–±–æ—Ä–∫–æ–π —Å–Ω–∞—á–∞–ª–∞ –æ—á–∏—Å—Ç–∏—Ç–µ Docker cache: `docker system prune -a`

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- `Dockerfile` - –ø—Ä–æ—â–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –≤—Å–µ –≤ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- `Dockerfile.multi` - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –¥–ª—è production, –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞

–í—ã–±–∏—Ä–∞–π—Ç–µ –∏—Å—Ö–æ–¥—è –∏–∑ –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π! 