# –û—Ç—á–µ—Ç –æ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å Rollup –Ω–∞ Alpine Linux

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –û–±–Ω–æ–≤–ª–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π Dockerfile (`AI-experts-OS/Dockerfile`)

–î–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é `@rollup/rollup-linux-x64-musl`:

```dockerfile
# –ë—ã–ª–æ:
npm install --no-audit --frozen-lockfile;

# –°—Ç–∞–ª–æ:
npm install --no-audit --frozen-lockfile --ignore-scripts ;
npm install @rollup/rollup-linux-x64-musl --save-optional --no-audit ;
npm rebuild ;
npm run postinstall || true ;
```

### 2. –°–æ–∑–¥–∞–Ω –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π multi-stage Dockerfile (`AI-experts-OS/Dockerfile.multi`)

–ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —ç—Ç–∞–ø–æ–≤ —Å–±–æ—Ä–∫–∏, –∫–æ—Ç–æ—Ä–∞—è —Ç–∞–∫–∂–µ –≤–∫–ª—é—á–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è rollup.

### 3. –°–æ–∑–¥–∞–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

- **`ZEABUR_ROLLUP_FIX.md`** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ Zeabur
- **`test-build.sh`** - –°–∫—Ä–∏–ø—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–±–æ—Ä–∫–∏
- **`ROLLUP_FIX_COMPLETE.md`** - –≠—Ç–æ—Ç –æ—Ç—á–µ—Ç

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Zeabur

1. **–°–¥–µ–ª–∞–π—Ç–µ commit –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
   ```bash
   cd AI-experts-OS
   git add Dockerfile Dockerfile.multi ZEABUR_ROLLUP_FIX.md test-build.sh
   git commit -m "Fix: Add rollup Alpine Linux dependency for Docker build"
   git push origin main
   ```

2. **–ù–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Zeabur:**
   - –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à —Å–±–æ—Ä–∫–∏ (Clear Build Cache)
   - –ù–∞–∂–º–∏—Ç–µ Redeploy/Rebuild
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ —Å–±–æ—Ä–∫–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd AI-experts-OS
./test-build.sh
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞
- Alpine Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç musl libc –≤–º–µ—Å—Ç–æ glibc
- Rollup v4.x —Ç—Ä–µ–±—É–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã
- npm –∏–º–µ–µ—Ç –±–∞–≥ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### –†–µ—à–µ–Ω–∏–µ
1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å —Ñ–ª–∞–≥–æ–º `--ignore-scripts`
2. –Ø–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `@rollup/rollup-linux-x64-musl`
3. –ó–∞–ø—É—Å–∫ `npm rebuild` –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
4. –ó–∞–ø—É—Å–∫ postinstall —Å–∫—Ä–∏–ø—Ç–æ–≤

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
   - –£–≤–µ–ª–∏—á—å—Ç–µ –ø–∞–º—è—Ç—å –¥–ª—è —Å–±–æ—Ä–∫–∏ –≤ `zeabur.json`
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `node:20-slim` –≤–º–µ—Å—Ç–æ `node:20-alpine`

2. **–î–ª—è production:**
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å multi-stage Dockerfile –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π Docker-—Å–±–æ—Ä–∫–∞ –¥–æ–ª–∂–Ω–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π—Ç–∏ –≤—Å–µ —ç—Ç–∞–ø—ã:
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –°–±–æ—Ä–∫–∞ data-provider
- ‚úÖ –°–±–æ—Ä–∫–∞ mcp
- ‚úÖ –°–±–æ—Ä–∫–∞ data-schemas
- ‚úÖ –°–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞

–ü—Ä–æ–±–ª–µ–º–∞ —Å `Cannot find module @rollup/rollup-linux-x64-musl` –±—É–¥–µ—Ç —Ä–µ—à–µ–Ω–∞.