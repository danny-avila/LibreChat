# For more information, see the Configuration Guide:
# https://www.librechat.ai/docs/configuration/librechat_yaml

# Configuration version (required)
version: 1.2.4

# Cache settings: Set to true to enable caching
cache: true

# File strategy s3/firebase
# fileStrategy: "s3"

# Custom interface configuration
interface:
  customWelcome: "Welcome to LibreChat! Enjoy your experience."
  endpointsMenu: true
  modelSelect: true
  parameters: true
  sidePanel: true
  presets: true
  prompts: true
  bookmarks: true
  multiConvo: true
  agents: true

# Example Actions Object Structure
actions:
  allowedDomains:
    - "swapi.dev"
    - "librechat.ai"
    - "google.com"


mcpServers:
  mcp-figma:
    url: http://10.1.48.107:3333/sse
    
#  mcp-atlassian:
#    url: https://mcp-atlassian.totalsoft.local/sse
#    url: https://mcp-atlassian.totalsoft.local/sse
    # command: npx
    # args:
    #   - "mcp-remote"
    #   - "https://mcp.atlassian.com/v1/sse"
    #   - "--jira-url=https://douacreioane.atlassian.net/jira/projects"
    #   - "--jira-username=radu.urdea@hotmail.com"
    #   - "--jira-token=ATATT3xFfGF04zJXz72CG-6GHEMV2Bd2eyaISqpV9qoCW6DhSejBU2VuGEaTAYE8J9zzzYHdfsis0i9sFFnJPrCIBN_7ZaDh1tyA_Vh4r4qN_4vy0QeoDYRSuEtP0VDif6hP2vNIdEfVh5w_1QAr5_PGWj_0LkYKQA-WOjVSzpNvznWUT7FpM9w=D272DF87"
  #atlassian:
  #  command: npx
  #  args:
  #    - "-y"
  #    - "https://mcp.atlassian.com/v1/sse"
  #    - "--jira-url=https://douacreioane.atlassian.net/jira/projects"
  #    - "--jira-username=radu.urdea@hotmail.com"
  #    - "--jira-token=ATATT3xFfGF04zJXz72CG-6GHEMV2Bd2eyaISqpV9qoCW6DhSejBU2VuGEaTAYE8J9zzzYHdfsis0i9sFFnJPrCIBN_7ZaDh1tyA_Vh4r4qN_4vy0QeoDYRSuEtP0VDif6hP2vNIdEfVh5w_1QAr5_PGWj_0LkYKQA-WOjVSzpNvznWUT7FpM9w=D272DF87"
  

  #atlassian:
  #  type: sse
  #  url: https://mcp.atlassian.com/v1/sse
  #  auth:
  #    type: "oauth2"
  #    clientId: "${ATLASSIAN_CLIENT_ID}"
  #    clientSecret: "${ATLASSIAN_CLIENT_SECRET}"
  #    authorizationEndpoint: "https://auth.atlassian.com/authorize"
  #    tokenEndpoint: "https://auth.atlassian.com/token"
  #    redirectUri: "http://localhost:3080"
  #    scope: "read:jira-user read:jira-work" 
  
  atlassian:
    command: npx
    args:
      - -y
      - "mcp-remote"
      - "https://mcp.atlassian.com/v1/sse"
      - "--jira-url=${MCP_ATLASSIAN_URL}"
      - "--jira-username=${MCP_ATLASSIAN_USERNAME}"
      - "--jira-token=${MCP_ATLASSIAN_TOKEN}"


# Example MCP Servers Object Structure
# mcpServers:
#   everything:
#     # type: sse # type can optionally be omitted
#     url: http://localhost:3001/sse
#     timeout: 60000  # 1 minute timeout for this server, this is the default timeout for MCP servers.
#   puppeteer:
#     type: stdio
#     command: npx
#     args:
#       - -y
#       - "@modelcontextprotocol/server-puppeteer"
#     timeout: 300000  # 5 minutes timeout for this server
#   filesystem:
#     # type: stdio
#     command: npx
#     args:
#       - -y
#       - "@modelcontextprotocol/server-filesystem"
#       - /home/user/LibreChat/
#     iconPath: /home/user/LibreChat/client/public/assets/logo.svg
#   mcp-obsidian:
#     command: npx
#     args:
#       - -y
#       - "mcp-obsidian"
#       - /path/to/obsidian/vault

# Definition of custom endpoints
endpoints:
  assistants:
    disableBuilder: false # Disable Assistants Builder Interface by setting to `true`
    pollIntervalMs: 3000  # Polling interval for checking assistant updates
    timeoutMs: 180000  # Timeout for assistant operations
    # Should only be one or the other, either `supportedIds` or `excludedIds`
    supportedIds: ["asst_supportedAssistantId1", "asst_supportedAssistantId2"]
    # excludedIds: ["asst_excludedAssistantId"]
    # Only show assistants that the user created or that were created externally (e.g. in Assistants playground).
    # privateAssistants: false # Does not work with `supportedIds` or `excludedIds`
    # (optional) Models that support retrieval, will default to latest known OpenAI models that support the feature
    retrievalModels: ["gpt-4-turbo-preview"]
    # (optional) Assistant Capabilities available to all users. Omit the ones you wish to exclude. Defaults to list below.
    capabilities: ["code_interpreter", "retrieval", "actions", "tools", "image_vision"]
  agents:
    # (optional) Default recursion depth for agents, defaults to 25
    recursionLimit: 50
    # (optional) Max recursion depth for agents, defaults to 25
    maxRecursionLimit: 100
    # (optional) Disable the builder interface for agents
    disableBuilder: false
    # (optional) Agent Capabilities available to all users. Omit the ones you wish to exclude. Defaults to list below.
    capabilities: ["execute_code", "file_search", "actions", "tools"]
  azureOpenAI:
    # Endpoint-level configuration
    titleModel: "gpt-4o"
    plugins: true
    assistants: false
    groups:
    # Group-level configuration
    - group: "${AZURE_OPENAI_INSTANCE}"
      apiKey: "${AZURE_OPENAI_API_KEY}" 
      instanceName: "${AZURE_OPENAI_INSTANCE}"
      version: "2025-01-01-preview"
      # Model-level configuration
      models:
        gpt-4o:
          deploymentName: gpt-4o
  
  