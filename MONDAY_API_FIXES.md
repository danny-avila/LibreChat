# Monday.com API Tool - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `groupName` –≤ —Å—Ö–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
- **–§–∞–π–ª**: `MondayTool.js` (—Å—Ç—Ä–æ–∫–∞ ~167)
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–∞—Ä–∞–º–µ—Ç—Ä `groupName` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö `createGroup` –∏ `createGroupAdvanced`, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≤ —Å—Ö–µ–º–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ Zod
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `groupName: z.string().optional().describe('–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã')`

## ‚ùå –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **createItem - HTTP 400 Error**
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `column_values` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å JSON —Å—Ç—Ä–æ–∫–æ–π
- –ù–µ–≤–µ—Ä–Ω—ã–π `groupId` - –≥—Ä—É–ø–ø–∞ –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∏–ª–∏ ID –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ –¥–æ—Å–∫–µ
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ API –∫–ª—é—á–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
```javascript
// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è column_values —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
const columnValues = {
  // –¢–µ–∫—Å—Ç - –ø—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
  "text_column_id": "Some text",
  
  // –°—Ç–∞—Ç—É—Å - –æ–±—ä–µ–∫—Ç —Å label
  "status_column_id": { "label": "Done" },
  
  // –î–∞—Ç–∞ - –æ–±—ä–µ–∫—Ç —Å date
  "date_column_id": { "date": "2024-01-15" },
  
  // –ß–∏—Å–ª–∞ - –ø—Ä–æ—Å—Ç–æ–µ —á–∏—Å–ª–æ
  "numbers_column_id": 123,
  
  // People - –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤
  "people_column_id": { 
    "personsAndTeams": [
      { "id": "user_id", "kind": "person" }
    ]
  }
};
```

### 2. **getItems - HTTP 400 Error**
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `boardId` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π, –Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤–µ `[boardId]`
- API –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `boardId` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –≤ GraphQL –∑–∞–ø—Ä–æ—Å–µ.

### 3. **addComment - Internal Server Error**
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–≤–µ—Ä–Ω—ã–π `itemId`
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- API endpoint –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## üìã –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `test_monday_fixes.js` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install node-fetch

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ API –∫–ª—é—á
export MONDAY_API_KEY="your_api_key_here"

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
node test_monday_fixes.js
```

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. **–£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ `makeGraphQLRequest`:

```javascript
async makeGraphQLRequest(query, variables = {}) {
  // ... existing code ...
  
  if (data.errors) {
    logger.error('[MondayTool] GraphQL Errors:', {
      errors: data.errors,
      query: query.substring(0, 200), // –ü–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤ –∑–∞–ø—Ä–æ—Å–∞
      variables: variables
    });
    
    // –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ
    const errorDetails = data.errors.map(e => e.message).join('; ');
    throw new Error(`GraphQL Error: ${errorDetails}`);
  }
  
  return data.data;
}
```

### 2. **–í–∞–ª–∏–¥–∞—Ü–∏—è column_values –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π**
–î–æ–±–∞–≤–∏—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è column values:

```javascript
validateAndFormatColumnValues(columnValues) {
  if (!columnValues || typeof columnValues !== 'object') {
    return null;
  }
  
  // –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
  const formatted = {};
  for (const [key, value] of Object.entries(columnValues)) {
    // –ü—Ä–æ—Å—Ç—ã–µ —Ç–∏–ø—ã (text, numbers) –º–æ–≥—É—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞–º–∏ –∏–ª–∏ —á–∏—Å–ª–∞–º–∏
    if (typeof value === 'string' || typeof value === 'number') {
      formatted[key] = value;
    }
    // –°–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—ä–µ–∫—Ç–∞–º–∏
    else if (typeof value === 'object' && value !== null) {
      formatted[key] = value;
    }
  }
  
  return formatted;
}
```

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞**
–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≥—Ä—É–ø–ø—ã:

```javascript
async createItem({ boardId, itemName, groupId, columnValues }) {
  // ... existing validation ...
  
  // –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω groupId, –ø—Ä–æ–≤–µ—Ä—è–µ–º –µ–≥–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
  if (groupId) {
    const board = await this.getBoard({ boardId, includeGroups: true });
    const boardData = JSON.parse(board);
    const groupExists = boardData.data.groups?.some(g => g.id === groupId);
    
    if (!groupExists) {
      logger.warn(`[MondayTool] Group ${groupId} not found on board ${boardId}`);
      groupId = null; // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥—Ä—É–ø–ø—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    }
  }
  
  // ... rest of the function ...
}
```

## üìå –°—Ç–∞—Ç—É—Å —Ñ—É–Ω–∫—Ü–∏–π –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|---------|--------|------------|
| `createGroup` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä groupName –≤ —Å—Ö–µ–º—É |
| `createGroupAdvanced` | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä groupName –≤ —Å—Ö–µ–º—É |
| `createItem` | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç column_values –∏ groupId |
| `getItems` | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç boardId –≤ –∑–∞–ø—Ä–æ—Å–µ |
| `addComment` | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∏ itemId |

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç** —Å —Ä–µ–∞–ª—å–Ω—ã–º API –∫–ª—é—á–æ–º
2. **–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏** –∏–∑ GraphQL –æ—Ç–≤–µ—Ç–æ–≤
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** monday.com –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ API
4. **–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ 